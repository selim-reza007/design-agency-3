import t from"jquery";function isInt(t){return!isNaN(t)&&parseInt(Number(t))==t&&!isNaN(parseInt(t,10))}t.fn.vCollapse=function(e=null){t(this);let o=t(this).find(".vcollapse-toggle"),a=t(this).find(".vcollapse-content"),s={any:!1,onLoad:0,speed:300,easing:"ease-in-out"};null!==e&&t.each(e,function(t,e){s[t]=e});let i;t(window).on("resize",function(){clearTimeout(i),i=setTimeout(()=>{t(".vcollapse-content.active").each(function(){let e=t(this);e[0].style.height="auto";let o=e[0].scrollHeight;e[0].style.height=o+"px"})},10)}),"all"===s.onLoad&&(o.addClass("active"),a.each(function(){let e=t(this);e[0].style.height=e[0].scrollHeight+"px"}),s.any=!0),"none"===s.onLoad&&(o.removeClass("active"),a.each(function(){let e=t(this);e[0].style.height="0px"})),"all"!==s.onLoad&&"none"!==s.onLoad&&(Array.isArray(s.onLoad)||(isInt(s.onLoad)?s.onLoad=[s.onLoad]:console.error("Invalid onLoad option: "+s.onLoad)),a.each(function(e){let i=t(this);s.onLoad.includes(e)?(i[0].style.height=i[0].scrollHeight+"px",o.eq(e).addClass("active"),a.eq(e).addClass("active")):i[0].style.height="0px"}),s.onLoad.length>1&&(s.any=!0)),a.each(function(){let e=t(this);e[0].style.transition="height "+s.speed/1e3+"s "+s.easing,e[0].style.overflow="hidden"}),o.each(function(e){let i=t(this);i.on("click",function(){let e=t(t(this).data("target"));s.any?t(this).hasClass("active")?(t(this).removeClass("active"),e[0].style.height="0px",e.removeClass("active")):(t(this).addClass("active"),e[0].style.height=e[0].scrollHeight+"px",e.addClass("active"),!0===s.autoScroll&&t("html,body").animate({scrollTop:i.offset().top},1e3)):(o.removeClass("active"),t(this).addClass("active"),a.each(function(){t(this)[0].style.height="0px",t(this).removeClass("active")}),e[0].style.height=e[0].scrollHeight+"px",e.addClass("active"),!0===s.autoScroll&&t("html,body").animate({scrollTop:i.offset().top},1e3))})})};